!function(){"use strict";angular.module("app",["ngRoute","ngNotify","mobile-angular-ui","angular-loading-bar","app.main","app.home","app.admin","app.user","app.necesidad","mobile-angular-ui.gestures"]).run(["$transform",function(e){window.$transform=e}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"scripts/home/home.html",reloadOnSearch:!1}).when("/",{templateUrl:"scripts/home/scroll.html",reloadOnSearch:!1,controller:"HomeCtrl",controllerAs:"HomeCtrl"}).when("/necesidad/:id",{templateUrl:"scripts/necesidad/detalle.html",controller:"NecesidadDetalleCtrl",controllerAs:"DetalleCtrl"}).when("/necesidad/:id/editar",{templateUrl:"scripts/necesidad/editar.html",controller:"NecesidadDetalleCtrl",controllerAs:"DetalleCtrl"}).when("/categoria/:categoria",{templateUrl:"scripts/necesidad/categoria.html",reloadOnSearch:!1,controller:"CategoriaCtrl",controllerAs:"CategoriaCtrl"}).when("/perfil",{templateUrl:"scripts/users/config.html",reloadOnSearch:!1,controller:"ConfigCtrl",controllerAs:"ConfigCtrl"}).when("/usuario/:id",{templateUrl:"scripts/users/profile.html",reloadOnSearch:!1,controller:"UserCtrl",controllerAs:"UserCtrl"}).when("/contacto",{templateUrl:"scripts/shared/contacto.html"}).when("/privacidad",{templateUrl:"scripts/shared/privacidad.html"}).when("/admin/usuarios",{template:"<users-list></users-list>"}).when("/admin/usuario/:id",{template:"<user-settings></user-settings>"}).otherwise({redirectTo:"/"})}])}(),function(){"use strict";angular.module("app.admin",["app.admin.users"])}(),function(){"use strict";angular.module("app.admin.users",[]).directive("usersList",function(){return{restrict:"E",templateUrl:"scripts/admin/users.html",controller:"AdminUsersCtrl",controllerAs:"ctrl"}}).controller("AdminUsersCtrl",["User","ngNotify",function(e,r){var t=this;e.all().success(function(e){t.users=e}).error(function(e){r.set(e,"error")})}])}(),function(){"use strict";angular.module("app.home",[]).controller("HomeCtrl",["Necesidad","ngNotify",function(e,r){var t=this;e.load().success(function(e){t.necesidades=e}).error(function(e){r.set(e,"error")})}])}(),function(){"use strict";angular.module("app.necesidad.categoria",[]).controller("CategoriaCtrl",["Necesidad","$routeParams",function(e,r){var t=this;e.categoria(r.categoria).success(function(e){t.necesidades=e.necesidades,t.categoria=e.categoria}).error(function(e){console.error(e)})}])}(),function(){"use strict";angular.module("app.comentario.service",[]).factory("Comentario",["$http",function(e){return{"delete":function(r){return e["delete"]("/api/comentarios/"+r)},util:function(r){return e.patch("/api/comentarios/"+r)},create:function(r){return e({data:r,method:"POST",url:"/api/necesidades/"+r.necesidadId+"/comentarios"})},update:function(r){return e({data:r,method:"PUT",url:"/api/comentarios/"+r.id})}}}])}(),function(){"use strict";angular.module("app.necesidad.detalle",[]).controller("NecesidadDetalleCtrl",["Necesidad","ngNotify","$routeParams","$window","Comentario","$scope",function(e,r,t,n,i,o){var s=this;s.necesidad={},s.Comentario={},t.id&&e.show(t.id).success(function(e){s.necesidad=e}).error(function(e){r.set(e,"error")}),s.save=function(){e.update(s.necesidad).success(function(e){r.set(e,"success")}).error(function(e){r.set(e,"error")})},s.comentar=function(){s.ComentarioForm.necesidadId=s.necesidad.id,i.create(s.ComentarioForm).success(function(e){r.set(e,"success"),s.Comentario.createdAt=new Date,s.necesidad.comentarios.push(s.Comentario),s.Comentario={}}).error(function(e){r.set(e,"error")})},s["delete"]=function(){var t=confirm("Realmente deseas eliminar esta publicaciÃ³n?");t&&e["delete"](s.necesidad.id).success(function(e){r.set(e,"success"),n.location="#/"}).error(function(e){r.set(e,"error")})},s.util=function(e){i.util(e.id).success(function(t){e.util=!0,r.set(t,"success")}).error(function(e){r.set(e,"error")})},o.upload=function(n){console.log("Subiendo archivo");var i=new FormData;n[0]&&(i.append("file",n[0]),e.upload(i,t.id).success(function(e){r.set(e,"success"),console.log(e)}).error(function(e){console.log(e),r.set(e,"error")}))}}])}(),function(){"use strict";angular.module("app.necesidad.item",[]).directive("necesidadItem",function(){return{restrict:"E",templateUrl:"scripts/necesidad/item.html",scope:{necesidad:"="}}})}(),function(){"use strict";angular.module("app.necesidad",["app.necesidad.service","app.necesidad.nueva","app.necesidad.item","app.necesidad.detalle","app.necesidad.categoria","app.comentario.service"]).controller("NecesidadesCtrl",["Necesidad","ngNotify",function(e,r){var t=this;e.load().success(function(e){t.necesidades=e}).error(function(e){r.set(e,"error")})}])}(),function(){"use strict";angular.module("app.necesidad.service",[]).factory("Necesidad",["$http",function(e){return{load:function(r){return e.get("/api/necesidades")},show:function(r){return e.get("/api/necesidades/"+r)},categoria:function(r){return e.get("/api/categorias/"+r)},"delete":function(r){return e["delete"]("/api/necesidades/"+r)},create:function(r){return e({data:r,method:"POST",url:"/api/necesidades"})},upload:function(r,t){return e.post("/api/necesidades/"+t+"/upload",r,{withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity})},update:function(r){return e({data:r,method:"PUT",url:"/api/necesidades/"+r.id})}}}])}(),function(){"use strict";angular.module("app.necesidad.nueva",[]).directive("nuevaNecesidad",["Necesidad","ngNotify","$window",function(e,r,t){return{restrict:"E",templateUrl:"scripts/necesidad/nueva.html",scope:{user:"="},controllerAs:"NuevaNecesidadCtrl",bindToController:!0,controller:"NuevaNecesidadCtrl"}}]).controller("NuevaNecesidadCtrl",["Necesidad","ngNotify","$window",function(e,r,t){var n=this;n.NecesidadForm={},n.create=function(){e.create(n.NecesidadForm).success(function(e){r.set("Necesidad agregada correctamente :)","success"),t.location="#/necesidad/"+e+"/editar"}).error(function(e){r.set(e,"error")})}}])}(),angular.module("app.directives",[]).directive("money",function(){function e(e,t,n,i){function o(e){var r=Math.pow(10,l);return Math.round(e*r)/r}function s(e){return parseFloat(e).toFixed(l)}function a(e){return i.$isEmpty(e)?"":""+e}var c,u=parseFloat(n.min||0),l=parseFloat(n.precision||2);i.$parsers.push(function(e){angular.isUndefined(e)&&(e=""),0===e.indexOf(".")&&(e="0"+e),0===e.indexOf("-")&&(u>=0?(e=null,i.$setViewValue(""),i.$render()):"-"===e&&(e=""));var t=i.$isEmpty(e);return t||r.test(e)?c=""===e?null:t?e:parseFloat(e):(i.$setViewValue(a(c)),i.$render()),i.$setValidity("number",!0),c}),i.$formatters.push(a);var d=function(e){return!i.$isEmpty(e)&&u>e?void i.$setValidity("min",!1):(i.$setValidity("min",!0),e)};if(i.$parsers.push(d),i.$formatters.push(d),n.max){var p=parseFloat(n.max),f=function(e){return!i.$isEmpty(e)&&e>p?void i.$setValidity("max",!1):(i.$setValidity("max",!0),e)};i.$parsers.push(f),i.$formatters.push(f)}l>-1&&(i.$parsers.push(function(e){return e?o(e):e}),i.$formatters.push(function(e){return e?s(e):e})),t.bind("blur",function(){var e=i.$modelValue;e&&(i.$viewValue=s(e),i.$render())})}var r=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;return{restrict:"A",require:"ngModel",link:e}}).directive("numbersOnly",function(){return{restrict:"A",require:"ngModel",link:function(e,r,t,n){n.$parsers.push(function(e){if(void 0===e)return"";var r=e.replace(/[^0-9+.]/g,"");return r!==e&&(n.$setViewValue(r),n.$render()),r})}}}),angular.module("app.filters",[]).filter("dinero",["$filter","$locale",function(e,r){var t=e("currency"),n=r.NUMBER_FORMATS;return function(e,r,i){0===r&&(r=-1);var o=t(e,i),s=o.indexOf(n.DECIMAL_SEP)+1,a="";return s<o.indexOf(n.CURRENCY_SYM)&&(a=" "+n.CURRENCY_SYM),o.substring(0,s+r)+a}}]),function(){"use strict";angular.module("app.main",["app.directives","app.filters"]).controller("MainController",["$rootScope","$scope","User",function(e,r,t){var n=this;t.me().success(function(e){n.user=e}).error(function(e){console.log(e)}),r.userAgent=navigator.userAgent,e.$on("$routeChangeStart",function(){e.loading=!0}),e.$on("$routeChangeSuccess",function(){e.loading=!1}),r.bottomReached=function(){},r.notices=[];for(var i=0;10>i;i++)r.notices.push({icon:"envelope",message:"Notice "+(i+1)});r.deleteNotice=function(e){var t=r.notices.indexOf(e);t>-1&&r.notices.splice(t,1)}}])}(),function(){"use strict";angular.module("app.user.config",[]).controller("ConfigCtrl",["ngNotify","User","$routeParams",function(e,r,t){var n=this;n.user={};var i=t.id;console.log(i),r.me(i).success(function(e){n.user=e}).error(function(r){e.set(r,"error")}),n.save=function(){r.update(n.user).success(function(r){e.set(r,"success")}).error(function(r){e.set(r,"error")})}}])}(),function(){"use strict";angular.module("app.user",["app.user.service","app.user.config"]).controller("UserCtrl",["ngNotify","User","$routeParams",function(e,r,t){var n=this;console.log("Cargando"),r.show(t.id).success(function(e){n.user=e,console.log("no"),console.log(e)}).error(function(r){e.set(r,"error")})}])}(),function(){"use strict";angular.module("app.user.service",[]).factory("User",["$http",function(e){return{me:function(r){return r?e.get("/api/users/"+r):e.get("/api/users/profile")},update:function(r){return e({method:"PUT",data:r,url:"/api/users/profile"})},show:function(r){return e.get("/api/users/"+r)},all:function(){return e.get("api/admin/users")}}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluL2FkbWluLmNvbnRyb2xsZXIuanMiLCJhZG1pbi91c2Vycy5kaXJlY3RpdmUuanMiLCJob21lL2hvbWUuY29udHJvbGxlci5qcyIsIm5lY2VzaWRhZC9jYXRlZ29yaWEuY29udHJvbGxlci5qcyIsIm5lY2VzaWRhZC9jb21lbnRhcmlvLnNlcnZpY2UuanMiLCJuZWNlc2lkYWQvZGV0YWxsZS5jb250cm9sbGVyLmpzIiwibmVjZXNpZGFkL2l0ZW0uZGlyZWN0aXZlLmpzIiwibmVjZXNpZGFkL25lY2VzaWRhZC5jb250cm9sbGVyLmpzIiwibmVjZXNpZGFkL25lY2VzaWRhZC5zZXJ2aWNlLmpzIiwibmVjZXNpZGFkL251ZXZhLmNvbnRyb2xsZXIuanMiLCJzaGFyZWQvZGlyZWN0aXZlcy5qcyIsInNoYXJlZC9maWx0ZXJzLmpzIiwic2hhcmVkL21haW4uanMiLCJ1c2Vycy9jb25maWcuY29udHJvbGxlci5qcyIsInVzZXJzL2NvbnRyb2xsZXIuanMiLCJ1c2Vycy9zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJydW4iLCIkdHJhbnNmb3JtIiwid2luZG93IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJyZWxvYWRPblNlYXJjaCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZSIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsIlVzZXIiLCJuZ05vdGlmeSIsInZtIiwidGhpcyIsImFsbCIsInN1Y2Nlc3MiLCJkYXRhIiwidXNlcnMiLCJlcnJvciIsImVyciIsInNldCIsIk5lY2VzaWRhZCIsImxvYWQiLCJuZWNlc2lkYWRlcyIsIiRyb3V0ZVBhcmFtcyIsImNhdGVnb3JpYSIsImNvbnNvbGUiLCJmYWN0b3J5IiwiJGh0dHAiLCJkZWxldGUiLCJpZCIsInV0aWwiLCJwYXRjaCIsImNyZWF0ZSIsIm1ldGhvZCIsInVybCIsIm5lY2VzaWRhZElkIiwidXBkYXRlIiwiJHdpbmRvdyIsIkNvbWVudGFyaW8iLCIkc2NvcGUiLCJuZWNlc2lkYWQiLCJzaG93Iiwic2F2ZSIsImNvbWVudGFyIiwiQ29tZW50YXJpb0Zvcm0iLCJjcmVhdGVkQXQiLCJEYXRlIiwiY29tZW50YXJpb3MiLCJwdXNoIiwic3VyZSIsImNvbmZpcm0iLCJsb2NhdGlvbiIsImNvbWVudGFyaW8iLCJ1cGxvYWQiLCJmaWxlcyIsImxvZyIsImZkIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJzY29wZSIsImNhbGxiYWNrIiwiZ2V0IiwiY2xhdmUiLCJwb3N0Iiwid2l0aENyZWRlbnRpYWxzIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsInVzZXIiLCJiaW5kVG9Db250cm9sbGVyIiwiTmVjZXNpZGFkRm9ybSIsImxpbmsiLCJlbCIsImF0dHJzIiwibmdNb2RlbEN0cmwiLCJyb3VuZCIsIm51bSIsImQiLCJNYXRoIiwicG93IiwicHJlY2lzaW9uIiwiZm9ybWF0UHJlY2lzaW9uIiwidmFsdWUiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImZvcm1hdFZpZXdWYWx1ZSIsIiRpc0VtcHR5IiwibGFzdFZhbGlkVmFsdWUiLCJtaW4iLCIkcGFyc2VycyIsImlzVW5kZWZpbmVkIiwiaW5kZXhPZiIsIiRzZXRWaWV3VmFsdWUiLCIkcmVuZGVyIiwiZW1wdHkiLCJOVU1CRVJfUkVHRVhQIiwidGVzdCIsIiRzZXRWYWxpZGl0eSIsIiRmb3JtYXR0ZXJzIiwibWluVmFsaWRhdG9yIiwibWF4IiwibWF4VmFsaWRhdG9yIiwiYmluZCIsIiRtb2RlbFZhbHVlIiwiJHZpZXdWYWx1ZSIsInJlcXVpcmUiLCJlbGVtZW50IiwibW9kZWxDdHJsIiwiaW5wdXRWYWx1ZSIsInRyYW5zZm9ybWVkSW5wdXQiLCJyZXBsYWNlIiwiZmlsdGVyIiwibG9jYWxlIiwiY3VycmVuY3lGaWx0ZXIiLCJmb3JtYXRzIiwiTlVNQkVSX0ZPUk1BVFMiLCJhbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsInNlcCIsIkRFQ0lNQUxfU0VQIiwic3ltYm9sIiwiQ1VSUkVOQ1lfU1lNIiwic3Vic3RyaW5nIiwiJHJvb3RTY29wZSIsIm1lIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiJG9uIiwibG9hZGluZyIsImJvdHRvbVJlYWNoZWQiLCJub3RpY2VzIiwiaiIsImljb24iLCJtZXNzYWdlIiwiZGVsZXRlTm90aWNlIiwibm90aWNlIiwiaW5kZXgiLCJzcGxpY2UiLCJ1c2VySWQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxPQUNBLFVBQ0EsV0FDQSxvQkFDQSxzQkFDQSxXQUNBLFdBQ0EsWUFDQSxXQUNBLGdCQU9BLCtCQUVBQyxLQUFBLGFBQUEsU0FBQUMsR0FDQUMsT0FBQUQsV0FBQUEsS0FFQUUsUUFBQSxpQkFBQSxTQUFBQyxHQUNBQSxFQUNBQyxLQUFBLEtBQ0FDLFlBQUEseUJBQ0FDLGdCQUFBLElBRUFGLEtBQUEsS0FDQUMsWUFBQSwyQkFDQUMsZ0JBQUEsRUFDQUMsV0FBQSxXQUNBQyxhQUFBLGFBRUFKLEtBQUEsa0JBQ0FDLFlBQUEsaUNBQ0FFLFdBQUEsdUJBQ0FDLGFBQUEsZ0JBRUFKLEtBQUEseUJBQ0FDLFlBQUEsZ0NBQ0FFLFdBQUEsdUJBQ0FDLGFBQUEsZ0JBRUFKLEtBQUEseUJBQ0FDLFlBQUEsbUNBQ0FDLGdCQUFBLEVBQ0FDLFdBQUEsZ0JBQ0FDLGFBQUEsa0JBRUFKLEtBQUEsV0FDQUMsWUFBQSw0QkFDQUMsZ0JBQUEsRUFDQUMsV0FBQSxhQUNBQyxhQUFBLGVBRUFKLEtBQUEsZ0JBQ0FDLFlBQUEsNkJBQ0FDLGdCQUFBLEVBQ0FDLFdBQUEsV0FDQUMsYUFBQSxhQUVBSixLQUFBLGFBQ0FDLFlBQUEsaUNBRUFELEtBQUEsZUFDQUMsWUFBQSxtQ0FFQUQsS0FBQSxtQkFDQUssU0FBQSw4QkFFQUwsS0FBQSxzQkFDQUssU0FBQSxvQ0FFQUMsV0FDQUMsV0FBQSxZQzlFQSxX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SUFBQUQsRUFBQSxrQkN6QkEsV0FDQSxZQUNBMUIsU0FBQUMsT0FBQSxZQUNBLG1CQUNBLG9CQUVBUyxXQUFBLFlBQUEsV0FBQSxPQUFBLGVBQUEsU0FBQVEsRUFBQUQsRUFBQWMsR0FFQSxHQUFBWixHQUFBQyxJQUNBYSxTQUFBOEIsSUFBQSxZQUVBOUMsRUFBQWdDLEtBQUFsQixFQUFBTSxJQUNBZixRQUFBLFNBQUFDLEdBQ0FKLEVBQUEyRCxLQUFBdkQsRUFDQVUsUUFBQThCLElBQUEsTUFDQTlCLFFBQUE4QixJQUFBeEMsS0FFQUUsTUFBQSxTQUFBQyxHQUNBUixFQUFBUyxJQUFBRCxFQUFBLGlCQ2xCQSxXQUNBLFlBQ0ExQixTQUNBQyxPQUFBLHVCQUVBaUMsUUFBQSxRQUFBLFFBQUEsU0FBQUMsR0FFQSxPQUNBbUcsR0FBQSxTQUFBakcsR0FFQSxNQUFBQSxHQUNBRixFQUFBa0MsSUFBQSxjQUFBaEMsR0FFQUYsRUFBQWtDLElBQUEsdUJBSUF6QixPQUFBLFNBQUFyQixHQUNBLE1BQUFZLElBQ0FNLE9BQUEsTUFDQWxCLEtBQUFBLEVBQ0FtQixJQUFBLHdCQUdBTyxLQUFBLFNBQUFaLEdBQ0EsTUFBQUYsR0FBQWtDLElBQUEsY0FBQWhDLElBRUFoQixJQUFBLFdBQ0EsTUFBQWMsR0FBQWtDLElBQUEiLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcCcsIFtcbiAgICAgICduZ1JvdXRlJyxcbiAgICAgICduZ05vdGlmeScsXG4gICAgICAnbW9iaWxlLWFuZ3VsYXItdWknLFxuICAgICAgJ2FuZ3VsYXItbG9hZGluZy1iYXInLFxuICAgICAgJ2FwcC5tYWluJyxcbiAgICAgICdhcHAuaG9tZScsXG4gICAgICAnYXBwLmFkbWluJyxcbiAgICAgICdhcHAudXNlcicsXG4gICAgICAnYXBwLm5lY2VzaWRhZCcsXG4gICAgICAvLyB0b3VjaC9kcmFnIGZlYXR1cmU6IHRoaXMgaXMgZnJvbSAnbW9iaWxlLWFuZ3VsYXItdWkuZ2VzdHVyZXMuanMnXG4gICAgICAvLyBpdCBpcyBhdCBhIHZlcnkgYmVnaW5uaW5nIHN0YWdlLCBzbyBwbGVhc2UgYmUgY2FyZWZ1bCBpZiB5b3UgbGlrZSB0byB1c2VcbiAgICAgIC8vIGluIHByb2R1Y3Rpb24uIFRoaXMgaXMgaW50ZW5kZWQgdG8gcHJvdmlkZSBhIGZsZXhpYmxlLCBpbnRlZ3JhdGVkIGFuZCBhbmRcbiAgICAgIC8vIGVhc3kgdG8gdXNlIGFsdGVybmF0aXZlIHRvIG90aGVyIDNyZCBwYXJ0eSBsaWJzIGxpa2UgaGFtbWVyLmpzLCB3aXRoIHRoZVxuICAgICAgLy8gZmluYWwgcG91cnBvc2UgdG8gaW50ZWdyYXRlIGdlc3R1cmVzIGludG8gZGVmYXVsdCB1aSBpbnRlcmFjdGlvbnMgbGlrZVxuICAgICAgLy8gb3BlbmluZyBzaWRlYmFycywgdHVybmluZyBzd2l0Y2hlcyBvbi9vZmYgLi5cbiAgICAgICdtb2JpbGUtYW5ndWxhci11aS5nZXN0dXJlcydcbiAgICBdKVxuICAgIC5ydW4oWyckdHJhbnNmb3JtJyxmdW5jdGlvbigkdHJhbnNmb3JtKSB7XG4gICAgICB3aW5kb3cuJHRyYW5zZm9ybSA9ICR0cmFuc2Zvcm07XG4gICAgfV0pXG4gICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9ob21lL2hvbWUuaHRtbCcsXG4gICAgICAgICAgcmVsb2FkT25TZWFyY2g6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9ob21lL3Njcm9sbC5odG1sJyxcbiAgICAgICAgICByZWxvYWRPblNlYXJjaDogZmFsc2UsXG4gICAgICAgICAgY29udHJvbGxlcjonSG9tZUN0cmwnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczonSG9tZUN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvbmVjZXNpZGFkLzppZCcsIHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NjcmlwdHMvbmVjZXNpZGFkL2RldGFsbGUuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjonTmVjZXNpZGFkRGV0YWxsZUN0cmwnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczonRGV0YWxsZUN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvbmVjZXNpZGFkLzppZC9lZGl0YXInLCB7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdzY3JpcHRzL25lY2VzaWRhZC9lZGl0YXIuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjonTmVjZXNpZGFkRGV0YWxsZUN0cmwnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczonRGV0YWxsZUN0cmwnXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvY2F0ZWdvcmlhLzpjYXRlZ29yaWEnLCB7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdzY3JpcHRzL25lY2VzaWRhZC9jYXRlZ29yaWEuaHRtbCcsXG4gICAgICAgICAgcmVsb2FkT25TZWFyY2g6IGZhbHNlLFxuICAgICAgICAgIGNvbnRyb2xsZXI6J0NhdGVnb3JpYUN0cmwnLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczonQ2F0ZWdvcmlhQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLndoZW4oJy9wZXJmaWwnLCB7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdzY3JpcHRzL3VzZXJzL2NvbmZpZy5odG1sJyxcbiAgICAgICAgICByZWxvYWRPblNlYXJjaDogZmFsc2UsXG4gICAgICAgICAgY29udHJvbGxlcjonQ29uZmlnQ3RybCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOidDb25maWdDdHJsJ1xuICAgICAgICB9KVxuICAgICAgICAud2hlbignL3VzdWFyaW8vOmlkJywge1xuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy91c2Vycy9wcm9maWxlLmh0bWwnLFxuICAgICAgICAgIHJlbG9hZE9uU2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICBjb250cm9sbGVyOidVc2VyQ3RybCcsXG4gICAgICAgICAgY29udHJvbGxlckFzOidVc2VyQ3RybCdcbiAgICAgICAgfSlcbiAgICAgICAgLndoZW4oJy9jb250YWN0bycsIHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NjcmlwdHMvc2hhcmVkL2NvbnRhY3RvLmh0bWwnXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvcHJpdmFjaWRhZCcsIHtcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NjcmlwdHMvc2hhcmVkL3ByaXZhY2lkYWQuaHRtbCdcbiAgICAgICAgfSlcbiAgICAgICAgLndoZW4oJy9hZG1pbi91c3VhcmlvcycsIHtcbiAgICAgICAgICB0ZW1wbGF0ZTogJzx1c2Vycy1saXN0PjwvdXNlcnMtbGlzdD4nXG4gICAgICAgIH0pXG4gICAgICAgIC53aGVuKCcvYWRtaW4vdXN1YXJpby86aWQnLCB7XG4gICAgICAgICAgdGVtcGxhdGU6ICc8dXNlci1zZXR0aW5ncz48L3VzZXItc2V0dGluZ3M+J1xuICAgICAgICB9KVxuICAgICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICAgICAgfSk7XG4gICAgfV0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLmFkbWluJyxbXG4gICAgICAnYXBwLmFkbWluLnVzZXJzJ1xuICAgIF0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5hZG1pbi51c2VycycsW10pXG4gICAgICAuZGlyZWN0aXZlKCd1c2Vyc0xpc3QnLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NjcmlwdHMvYWRtaW4vdXNlcnMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOidBZG1pblVzZXJzQ3RybCcsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6J2N0cmwnXG4gICAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAuY29udHJvbGxlcignQWRtaW5Vc2Vyc0N0cmwnLFsnVXNlcicsJ25nTm90aWZ5JyxmdW5jdGlvbiAoVXNlcixuZ05vdGlmeSkge1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgVXNlci5hbGwoKVxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2bS51c2VycyA9IGRhdGE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5ob21lJyxbXSlcbiAgICAgIC5jb250cm9sbGVyKCdIb21lQ3RybCcsWydOZWNlc2lkYWQnLCduZ05vdGlmeScsZnVuY3Rpb24gKE5lY2VzaWRhZCxuZ05vdGlmeSkge1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgTmVjZXNpZGFkLmxvYWQoKVxuICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIHZtLm5lY2VzaWRhZGVzID0gZGF0YTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBuZ05vdGlmeS5zZXQoZXJyLCAnZXJyb3InKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5uZWNlc2lkYWQuY2F0ZWdvcmlhJyxbXSlcbiAgICAgIC5jb250cm9sbGVyKCdDYXRlZ29yaWFDdHJsJyxbJ05lY2VzaWRhZCcsJyRyb3V0ZVBhcmFtcycsZnVuY3Rpb24gKE5lY2VzaWRhZCwkcm91dGVQYXJhbXMpIHtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblxuICAgICAgICBOZWNlc2lkYWQuY2F0ZWdvcmlhKCRyb3V0ZVBhcmFtcy5jYXRlZ29yaWEpXG4gICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLm5lY2VzaWRhZGVzID0gZGF0YS5uZWNlc2lkYWRlcztcbiAgICAgICAgICAgIHZtLmNhdGVnb3JpYSA9IGRhdGEuY2F0ZWdvcmlhO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5jb21lbnRhcmlvLnNlcnZpY2UnLFtdKVxuICAgICAgLmZhY3RvcnkoJ0NvbWVudGFyaW8nLFsnJGh0dHAnLGZ1bmN0aW9uICgkaHR0cCkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGVsZXRlOmZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9jb21lbnRhcmlvcy8nICsgaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXRpbDpmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wYXRjaCgnL2FwaS9jb21lbnRhcmlvcy8nICsgaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3JlYXRlOmZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICAgICAgICBkYXRhICAgIDogIGRhdGEsXG4gICAgICAgICAgICAgIG1ldGhvZCAgOiAnUE9TVCcsXG4gICAgICAgICAgICAgIHVybCAgICAgOiAnL2FwaS9uZWNlc2lkYWRlcy8nICsgZGF0YS5uZWNlc2lkYWRJZCArICcvY29tZW50YXJpb3MnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZTpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgICAgZGF0YSAgICA6ICBkYXRhLFxuICAgICAgICAgICAgICBtZXRob2QgIDogJ1BVVCcsXG4gICAgICAgICAgICAgIHVybCAgICAgOiAnL2FwaS9jb21lbnRhcmlvcy8nICsgZGF0YS5pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1dKVxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcC5uZWNlc2lkYWQuZGV0YWxsZScsW10pXG4gICAgICAuY29udHJvbGxlcignTmVjZXNpZGFkRGV0YWxsZUN0cmwnLFsnTmVjZXNpZGFkJywnbmdOb3RpZnknLCckcm91dGVQYXJhbXMnLCckd2luZG93JywnQ29tZW50YXJpbycsJyRzY29wZScsZnVuY3Rpb24gKE5lY2VzaWRhZCxuZ05vdGlmeSwkcm91dGVQYXJhbXMsJHdpbmRvdyxDb21lbnRhcmlvLCRzY29wZSkge1xuXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLm5lY2VzaWRhZCA9IHt9O1xuICAgICAgICB2bS5Db21lbnRhcmlvID0ge307XG5cbiAgICAgICAgaWYgKCRyb3V0ZVBhcmFtcy5pZCkge1xuICAgICAgICAgIE5lY2VzaWRhZC5zaG93KCRyb3V0ZVBhcmFtcy5pZClcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIHZtLm5lY2VzaWRhZCA9IGRhdGE7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBOZWNlc2lkYWQudXBkYXRlKHZtLm5lY2VzaWRhZClcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIG5nTm90aWZ5LnNldChkYXRhLCdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmNvbWVudGFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgdm0uQ29tZW50YXJpb0Zvcm0ubmVjZXNpZGFkSWQgPSB2bS5uZWNlc2lkYWQuaWQ7XG5cbiAgICAgICAgICBDb21lbnRhcmlvLmNyZWF0ZSh2bS5Db21lbnRhcmlvRm9ybSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIG5nTm90aWZ5LnNldChkYXRhLCdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgIHZtLkNvbWVudGFyaW8uY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgdm0ubmVjZXNpZGFkLmNvbWVudGFyaW9zLnB1c2godm0uQ29tZW50YXJpbyk7XG4gICAgICAgICAgICAgIHZtLkNvbWVudGFyaW8gPSB7fTsgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgIG5nTm90aWZ5LnNldChlcnIsJ2Vycm9yJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN1cmUgPSBjb25maXJtKCdSZWFsbWVudGUgZGVzZWFzIGVsaW1pbmFyIGVzdGEgcHVibGljYWNpw7NuPycpO1xuICAgICAgICAgIGlmIChzdXJlKSB7XG4gICAgICAgICAgICBOZWNlc2lkYWQuZGVsZXRlKHZtLm5lY2VzaWRhZC5pZClcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBuZ05vdGlmeS5zZXQoZGF0YSwnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24gPSAnIy8nO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIG5nTm90aWZ5LnNldChlcnIsJ2Vycm9yJyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2bS51dGlsID0gZnVuY3Rpb24gKGNvbWVudGFyaW8pIHtcblxuICAgICAgICAgIENvbWVudGFyaW8udXRpbChjb21lbnRhcmlvLmlkKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29tZW50YXJpby51dGlsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGRhdGEsJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBuZ05vdGlmeS5zZXQoZXJyLCdlcnJvcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnVwbG9hZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1N1YmllbmRvIGFyY2hpdm8nKTtcbiAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAvL1Rha2UgdGhlIGZpcnN0IHNlbGVjdGVkIGZpbGVcblxuICAgICAgICAgIGlmIChmaWxlc1swXSkge1xuICAgICAgICAgICAgZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlc1swXSk7XG5cbiAgICAgICAgICAgIE5lY2VzaWRhZC51cGxvYWQoZmQsJHJvdXRlUGFyYW1zLmlkKVxuICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIG5nTm90aWZ5LnNldChkYXRhLCdzdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICBuZ05vdGlmeS5zZXQoZXJyLCdlcnJvcicpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cblxuICAgICAgICB9O1xuXG5cbiAgICAgIH1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAubmVjZXNpZGFkLml0ZW0nLFtdKVxuICAgICAgLmRpcmVjdGl2ZSgnbmVjZXNpZGFkSXRlbScsZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9uZWNlc2lkYWQvaXRlbS5odG1sJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgIG5lY2VzaWRhZDogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICB9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAubmVjZXNpZGFkJyxbXG4gICAgICAnYXBwLm5lY2VzaWRhZC5zZXJ2aWNlJyxcbiAgICAgICdhcHAubmVjZXNpZGFkLm51ZXZhJyxcbiAgICAgICdhcHAubmVjZXNpZGFkLml0ZW0nLFxuICAgICAgJ2FwcC5uZWNlc2lkYWQuZGV0YWxsZScsXG4gICAgICAnYXBwLm5lY2VzaWRhZC5jYXRlZ29yaWEnLFxuICAgICAgJ2FwcC5jb21lbnRhcmlvLnNlcnZpY2UnXG4gICAgXSlcbiAgICAgIC5jb250cm9sbGVyKCdOZWNlc2lkYWRlc0N0cmwnLFsnTmVjZXNpZGFkJywnbmdOb3RpZnknLGZ1bmN0aW9uIChOZWNlc2lkYWQsbmdOb3RpZnkpIHtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIE5lY2VzaWRhZC5sb2FkKClcbiAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICB2bS5uZWNlc2lkYWRlcyA9IGRhdGE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwgJ2Vycm9yJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgIH1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAubmVjZXNpZGFkLnNlcnZpY2UnLFtdKVxuICAgICAgLmZhY3RvcnkoJ05lY2VzaWRhZCcsWyckaHR0cCcsZnVuY3Rpb24gKCRodHRwKSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsb2FkOmZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9uZWNlc2lkYWRlcycpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hvdzpmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbmVjZXNpZGFkZXMvJyArIGlkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhdGVnb3JpYTpmdW5jdGlvbiAoY2xhdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY2F0ZWdvcmlhcy8nICsgY2xhdmUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVsZXRlOmZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmRlbGV0ZSgnL2FwaS9uZWNlc2lkYWRlcy8nICsgaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3JlYXRlOmZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICAgICAgICBkYXRhICAgIDogIGRhdGEsXG4gICAgICAgICAgICAgIG1ldGhvZCAgOiAnUE9TVCcsXG4gICAgICAgICAgICAgIHVybCAgICAgOiAnL2FwaS9uZWNlc2lkYWRlcydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXBsb2FkOmZ1bmN0aW9uIChmZCxpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbmVjZXNpZGFkZXMvJyArIGlkICsgJy91cGxvYWQnLCBmZCwge1xuICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sXG4gICAgICAgICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXBkYXRlOmZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICAgICAgICBkYXRhICAgIDogIGRhdGEsXG4gICAgICAgICAgICAgIG1ldGhvZCAgOiAnUFVUJyxcbiAgICAgICAgICAgICAgdXJsICAgICA6ICcvYXBpL25lY2VzaWRhZGVzLycgKyBkYXRhLmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfV0pXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwLm5lY2VzaWRhZC5udWV2YScsW10pXG4gICAgICAuZGlyZWN0aXZlKCdudWV2YU5lY2VzaWRhZCcsWydOZWNlc2lkYWQnLCduZ05vdGlmeScsJyR3aW5kb3cnLGZ1bmN0aW9uIChOZWNlc2lkYWQsbmdOb3RpZnksJHdpbmRvdykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2NyaXB0cy9uZWNlc2lkYWQvbnVldmEuaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICB1c2VyOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6IFwiTnVldmFOZWNlc2lkYWRDdHJsXCIsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ051ZXZhTmVjZXNpZGFkQ3RybCdcbiAgICAgICAgICB9O1xuICAgICAgfV0pXG4gICAgICAuY29udHJvbGxlcignTnVldmFOZWNlc2lkYWRDdHJsJyxbJ05lY2VzaWRhZCcsJ25nTm90aWZ5JywnJHdpbmRvdycsZnVuY3Rpb24gKE5lY2VzaWRhZCxuZ05vdGlmeSwkd2luZG93XG4gICAgICApIHtcblxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2bS5OZWNlc2lkYWRGb3JtID0ge307XG5cbiAgICAgICAgdm0uY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIE5lY2VzaWRhZC5jcmVhdGUodm0uTmVjZXNpZGFkRm9ybSlcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgIG5nTm90aWZ5LnNldCgnTmVjZXNpZGFkIGFncmVnYWRhIGNvcnJlY3RhbWVudGUgOiknLCdzdWNjZXNzJyk7ICR3aW5kb3cubG9jYXRpb24gPSAnIy9uZWNlc2lkYWQvJyArIGRhdGEgKyAnL2VkaXRhcic7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICB9XSk7XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJywgW10pXG4gIC5kaXJlY3RpdmUoJ21vbmV5JywgZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKVxccyokLztcblxuICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsLCBhdHRycywgbmdNb2RlbEN0cmwpIHtcbiAgICAgIHZhciBtaW4gPSBwYXJzZUZsb2F0KGF0dHJzLm1pbiB8fCAwKTtcbiAgICAgIHZhciBwcmVjaXNpb24gPSBwYXJzZUZsb2F0KGF0dHJzLnByZWNpc2lvbiB8fCAyKTtcbiAgICAgIHZhciBsYXN0VmFsaWRWYWx1ZTtcblxuICAgICAgZnVuY3Rpb24gcm91bmQobnVtKSB7XG4gICAgICAgIHZhciBkID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIGQpIC8gZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZm9ybWF0UHJlY2lzaW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZvcm1hdFZpZXdWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpID8gJycgOiAnJyArIHZhbHVlO1xuICAgICAgfVxuXG5cbiAgICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbGVhZGluZyBkZWNpbWFsIHBvaW50LCBsaWtlIFwiLjVcIlxuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFsbG93IFwiLVwiIGlucHV0cyBvbmx5IHdoZW4gbWluIDwgMFxuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZignLScpID09PSAwKSB7XG4gICAgICAgICAgaWYgKG1pbiA+PSAwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCcnKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLScpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVtcHR5ID0gbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpO1xuICAgICAgICBpZiAoZW1wdHkgfHwgTlVNQkVSX1JFR0VYUC50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgIGxhc3RWYWxpZFZhbHVlID0gKHZhbHVlID09PSAnJylcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IChlbXB0eSA/IHZhbHVlIDogcGFyc2VGbG9hdCh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlbmRlciB0aGUgbGFzdCB2YWxpZCBpbnB1dCBpbiB0aGUgZmllbGRcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGZvcm1hdFZpZXdWYWx1ZShsYXN0VmFsaWRWYWx1ZSkpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnbnVtYmVyJywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBsYXN0VmFsaWRWYWx1ZTtcbiAgICAgIH0pO1xuICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXRWaWV3VmFsdWUpO1xuXG4gICAgICB2YXIgbWluVmFsaWRhdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eSh2YWx1ZSkgJiYgdmFsdWUgPCBtaW4pIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ21pbicsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnbWluJywgdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmdNb2RlbEN0cmwuJHBhcnNlcnMucHVzaChtaW5WYWxpZGF0b3IpO1xuICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChtaW5WYWxpZGF0b3IpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4KSB7XG4gICAgICAgIHZhciBtYXggPSBwYXJzZUZsb2F0KGF0dHJzLm1heCk7XG4gICAgICAgIHZhciBtYXhWYWxpZGF0b3IgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICghbmdNb2RlbEN0cmwuJGlzRW1wdHkodmFsdWUpICYmIHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ21heCcsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnbWF4JywgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2gobWF4VmFsaWRhdG9yKTtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChtYXhWYWxpZGF0b3IpO1xuICAgICAgfVxuXG4gICAgICAvLyBSb3VuZCBvZmZcbiAgICAgIGlmIChwcmVjaXNpb24gPiAtMSkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA/IHJvdW5kKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPyBmb3JtYXRQcmVjaXNpb24odmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBlbC5iaW5kKCdibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA9IGZvcm1hdFByZWNpc2lvbih2YWx1ZSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGxpbmtcbiAgICB9O1xuICB9KS5kaXJlY3RpdmUoJ251bWJlcnNPbmx5JywgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbW9kZWxDdHJsKSB7XG4gICAgICAgIG1vZGVsQ3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgLy8gdGhpcyBuZXh0IGlmIGlzIG5lY2Vzc2FyeSBmb3Igd2hlbiB1c2luZyBuZy1yZXF1aXJlZCBvbiB5b3VyIGlucHV0LlxuICAgICAgICAgIC8vIEluIHN1Y2ggY2FzZXMsIHdoZW4gYSBsZXR0ZXIgaXMgdHlwZWQgZmlyc3QsIHRoaXMgcGFyc2VyIHdpbGwgYmUgY2FsbGVkXG4gICAgICAgICAgLy8gYWdhaW4sIGFuZCB0aGUgMm5kIHRpbWUsIHRoZSB2YWx1ZSB3aWxsIGJlIHVuZGVmaW5lZFxuICAgICAgICAgIGlmIChpbnB1dFZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiAnJztcbiAgICAgICAgICB2YXIgdHJhbnNmb3JtZWRJbnB1dCA9IGlucHV0VmFsdWUucmVwbGFjZSgvW14wLTkrLl0vZywgJycpO1xuICAgICAgICAgIGlmICh0cmFuc2Zvcm1lZElucHV0IT09aW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUodHJhbnNmb3JtZWRJbnB1dCk7XG4gICAgICAgICAgICBtb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZElucHV0O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAuZmlsdGVycycsW10pXG4gIC5maWx0ZXIoJ2RpbmVybycsXG4gIFsgJyRmaWx0ZXInLCAnJGxvY2FsZScsIGZ1bmN0aW9uKGZpbHRlciwgbG9jYWxlKSB7XG4gICAgdmFyIGN1cnJlbmN5RmlsdGVyID0gZmlsdGVyKCdjdXJyZW5jeScpO1xuICAgIHZhciBmb3JtYXRzID0gbG9jYWxlLk5VTUJFUl9GT1JNQVRTO1xuICAgIHJldHVybiBmdW5jdGlvbihhbW91bnQsIG51bSwgY3VycmVuY3lTeW1ib2wpIHtcbiAgICAgIGlmIChudW09PT0wKSBudW0gPSAtMTtcbiAgICAgIHZhciB2YWx1ZSA9IGN1cnJlbmN5RmlsdGVyKGFtb3VudCwgY3VycmVuY3lTeW1ib2wpO1xuICAgICAgdmFyIHNlcCA9IHZhbHVlLmluZGV4T2YoZm9ybWF0cy5ERUNJTUFMX1NFUCkrMTtcbiAgICAgIHZhciBzeW1ib2wgPSAnJztcbiAgICAgIGlmIChzZXA8dmFsdWUuaW5kZXhPZihmb3JtYXRzLkNVUlJFTkNZX1NZTSkpIHN5bWJvbCA9ICcgJytmb3JtYXRzLkNVUlJFTkNZX1NZTTtcbiAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgc2VwK251bSkrc3ltYm9sO1xuICAgIH07XG4gIH0gXSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gICAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnYXBwLm1haW4nLCBbXG4gICAgICAnYXBwLmRpcmVjdGl2ZXMnLFxuICAgICAgJ2FwcC5maWx0ZXJzJ1xuICAgIF0pXG4gICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJyxbJyRyb290U2NvcGUnLCckc2NvcGUnLCdVc2VyJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCBVc2VyKXtcblxuICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgVXNlci5tZSgpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdm0udXNlciA9IGRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG5cblxuXG4gICAgICAvLyBVc2VyIGFnZW50IGRpc3BsYXllZCBpbiBob21lIHBhZ2VcbiAgICAgICRzY29wZS51c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAvLyBOZWVkZWQgZm9yIHRoZSBsb2FkaW5nIHNjcmVlblxuICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJHJvb3RTY29wZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICRyb290U2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG5cblxuXG4gICAgICAkc2NvcGUuYm90dG9tUmVhY2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKiBnbG9iYWwgYWxlcnQ6IGZhbHNlOyAqL1xuICAgICAgICAvLyBhbGVydCgnQ29uZ3JhdHMgeW91IHNjcm9sbGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QhJyk7XG4gICAgICB9O1xuXG5cbiAgICAgIC8vXG4gICAgICAvLyAnRHJhZycgc2NyZWVuXG4gICAgICAvL1xuICAgICAgJHNjb3BlLm5vdGljZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgICRzY29wZS5ub3RpY2VzLnB1c2goe2ljb246ICdlbnZlbG9wZScsIG1lc3NhZ2U6ICdOb3RpY2UgJyArIChqICsgMSkgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5kZWxldGVOb3RpY2UgPSBmdW5jdGlvbihub3RpY2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm5vdGljZXMuaW5kZXhPZihub3RpY2UpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICRzY29wZS5ub3RpY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhci5tb2R1bGUoJ2FwcC51c2VyLmNvbmZpZycsIFtdKVxuICAgIC5jb250cm9sbGVyKCdDb25maWdDdHJsJyxbJ25nTm90aWZ5JywnVXNlcicsJyRyb3V0ZVBhcmFtcycsZnVuY3Rpb24obmdOb3RpZnksVXNlciwkcm91dGVQYXJhbXMpe1xuXG4gICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgdm0udXNlciA9IHt9O1xuICAgICAgdmFyIHVzZXJJZCA9ICRyb3V0ZVBhcmFtcy5pZDtcblxuICAgICAgY29uc29sZS5sb2codXNlcklkKVxuXG4gICAgICBVc2VyLm1lKHVzZXJJZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gIChkYXRhKSB7XG4gICAgICAgICAgdm0udXNlciA9IGRhdGE7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbiAgKGVycikge1xuICAgICAgICAgIG5nTm90aWZ5LnNldChlcnIsJ2Vycm9yJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICB2bS5zYXZlID0gZnVuY3Rpb24gICgpIHtcbiAgICAgICAgVXNlci51cGRhdGUodm0udXNlcilcbiAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGRhdGEsJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAgKGVycikge1xuICAgICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfV0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyLm1vZHVsZSgnYXBwLnVzZXInLCBbXG4gICAgJ2FwcC51c2VyLnNlcnZpY2UnLFxuICAgICdhcHAudXNlci5jb25maWcnIC8vIGVkaXRhciBwZXJmaWwgZGVsIHVzdWFyaW8geSBzdSBjb25maWd1cmFjacOzblxuICBdKVxuICAgIC5jb250cm9sbGVyKCdVc2VyQ3RybCcsWyduZ05vdGlmeScsJ1VzZXInLCckcm91dGVQYXJhbXMnLGZ1bmN0aW9uKG5nTm90aWZ5LFVzZXIsJHJvdXRlUGFyYW1zKXtcblxuICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgIGNvbnNvbGUubG9nKCdDYXJnYW5kbycpO1xuXG4gICAgICBVc2VyLnNob3coJHJvdXRlUGFyYW1zLmlkKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAgKGRhdGEpIHtcbiAgICAgICAgICAgIHZtLnVzZXIgPSBkYXRhO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uICAoZXJyKSB7XG4gICAgICAgICAgbmdOb3RpZnkuc2V0KGVyciwnZXJyb3InKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdhcHAudXNlci5zZXJ2aWNlJywgIFtdKVxuXG4gICAgICAuZmFjdG9yeSAoJ1VzZXInLCBbJyRodHRwJyxmdW5jdGlvbiAoJGh0dHApIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lOmZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9wcm9maWxlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9LFxuICAgICAgICAgIHVwZGF0ZTpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgICAgbWV0aG9kOidQVVQnLFxuICAgICAgICAgICAgICBkYXRhOmRhdGEsXG4gICAgICAgICAgICAgIHVybDonL2FwaS91c2Vycy9wcm9maWxlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaG93OmZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgaWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYWxsOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS9hZG1pbi91c2VycycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1dKTtcblxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
